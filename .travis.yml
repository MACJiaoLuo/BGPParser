language: go
go:
- 1.13.x
addons:
  apt:
    packages:
    - python3
script:
- python3 ./build.py -create-sample
before_deploy:
- go version
- ls -al
- python3 ./build.py -build
deploy:
  provider: releases
  api_key:
    secure: "S3cmYiZXN+LN1pOMHn/eK2o8pg4oqYET0n/jNl6J6D3kfZbv5AdmC7Glyoj7p8NnXbqPKA5K8vhR3hNoSQCF42B+exOk3jdHrr2C3zrI04upnaCxpcmrNAcoltRzk2d4S6hUEuEmtdSz/mvGkaF+wUeuzeDmbrkReiS6jjT82/WadaZS6A45/KPW1gDvxGAAXa55dmJA0h/r17ozOkjXfQQerYPye89SJ9ffEuL3a6FylM4EdMP+/5VEmTeYrv4eJzeAGC/8EeJsivxDqgrjlCwCuNkD3O3H2luOtrAJzPB4U3gdWuKKFwxbZpxMhY4wXwzUMVpDOskl8dp/v6R0RrwSbq1SF1Sz9UevWEh8n25hR3CNIHGOqXdf6enwo+ZZ3pCziw7sSQeQ9EJ8yO3bppdDRsH5HFEdh2NTuzVCmS25NKy0ZJ2wJv8159ePaKpExbac1p4C1fTws2JUm15QZqc83McX8Y+OI1fMdDKBdkqI2jRyPck759hwr9wjM/hR7T7XjgHkQ106y6q+ocimaxjU+73tOMbRcYnbj8RW8oxBIuJHZ+aziky3ZH6aGnRMSZpI+tchKqDkYkMIlQ/7JTLF5L5tYCT0k6S2s5auYxkDVut/AeFsnv31sZrLcBUWM7jKMPa5RngMYm14ujIbGVzJLeeA7tP3MVQ3S3h7igw=" 
  file:
    - BGPParser-darwin-amd64.zip
    - BGPParser-linux-386.zip
    - BGPParser-linux-amd64.zip
    - BGPParser-linux-arm.zip
    - BGPParser-linux-arm64.zip
    - BGPParser-linux-mips-softfloat.zip
    - BGPParser-linux-mips-hardfloat.zip
    - BGPParser-linux-mipsle-softfloat.zip
    - BGPParser-linux-mipsle-hardfloat.zip
    - BGPParser-linux-mips64.zip
    - BGPParser-linux-mips64le.zip
    - BGPParser-freebsd-386.zip
    - BGPParser-freebsd-amd64.zip
    - BGPParser-windows-386.zip
    - BGPParser-windows-amd64.zip
  skip_cleanup: true
  on:
    tags: true

